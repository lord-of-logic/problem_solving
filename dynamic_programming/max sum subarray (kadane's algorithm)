#include<iostream>

using namespace std;

int main()
{
    int A[8]={-3,10,5,-20,4,11,-5,7};
    int n=8;
    int curr_sum=0;
    int max_sum=0;
    int max_index=0;
    for(int i=0;i<n;i++)
    {
        curr_sum+=A[i];
        if(curr_sum<0)
            curr_sum=0;
        if(max_sum<curr_sum)
        {
            max_sum=curr_sum;
            max_index=i;
        }
    }
    int max_index_init;
    for(int i=max_index,curr_sum=max_sum;i>=0;i--)
    {
        curr_sum-=A[i];
        if(curr_sum==0)
        {
            max_index_init=i;
            break;
        }
    }
    for(int i=max_index_init;i<=max_index;i++)
        cout<<A[i]<<" ";
    cout<<"\n";
    cout<<"Max sum is: "<<max_sum;
    return 0;
}
